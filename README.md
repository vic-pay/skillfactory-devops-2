# Репозиторий для практикума по автоматизации курса Skillfactory: DevOps

# Задание
https://github.com/SkillfactoryCodingTeam/devops__project__automation

# Решение
С помощью playbook.yml Ansible:
- устанавливаюится необходимые пакеты
- создаются директории /opt/sync-mirror для хранения конфигурационных файлов и /opt/sync-mirror/html для хранения зеркала
- копируется Makefile в котором описан процесс получения .html файлов и процесс управления docker образамии и контейнером. 
- копируется Dockerfile в котором описан процесс сборки Docker image с nginx и .html файлами
- создается задание в /etc/crontab

# Установка
Установка выполняется на локальный компьютер с помощью Ansible 
- установить Ansible командой sudo apt install ansible
- скопировать содержимое репозитория в каталог
- перейти в каталог и выполнить ./run.sh
- ввести пароль sudo 

# Проверка
Задания можно выполнить вручную:
*make -f /opt/sync-mirror/Makefile sync* получения .html файлов 
*make -f /opt/sync-mirror/Makefile deploy* для пересборки и запуска контейнера
Для удобства при сборке используется прямой вызов bash, весь вывод должен быть отформатирован правильно
Получить доступ к статьям можно перейдя в браузере по адресу:
*127.0.0.1/bugs.html*
